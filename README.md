# ü§ñ AI Voice Sales Agent

An AI-powered voice sales agent that simulates automated sales calls for pitching online courses. The agent has natural, dynamic conversations, handles objections, and qualifies leads using free/open-source AI models.

---

## üöÄ Features

- **Voice Conversation**: Text-to-speech (TTS) and speech-to-text (STT) for real-time, natural conversations
- **Dynamic Sales Flow**: Agent follows a real sales script (introduction, qualification, pitch, objection handling, closing)
- **LLM-Powered**: Uses HuggingFace DialoGPT-medium for context-aware, dynamic responses
- **Objection Handling**: Handles price, time, and relevance concerns
- **Lead Qualification**: Asks questions to understand customer needs
- **No Audio Files Saved**: All audio is generated and streamed in-memory (base64)

---

## üõ† Tech Stack

- **Python 3.8+**
- **FastAPI** (backend API)
- **HuggingFace Transformers**
  - `microsoft/speecht5_tts` (TTS)
  - `microsoft/DialoGPT-medium` (LLM)
- **OpenAI Whisper** (STT, via open-source model)
- **Frontend**: Minimal HTML/JS web interface (`/static/test_voice.html`)

---

## üì¶ Installation & Setup

### 1. Clone the repository

```bash
git clone https://github.com/injamul3798/ai-voice-sales-agent
cd ai-voice-sales-agent
```

### 2. Create and activate a virtual environment

```bash
python -m venv venv
# On Windows:
venv\Scripts\activate
# On macOS/Linux:
source venv/bin/activate
```

### 3. Install dependencies

```bash
pip install -r requirements.txt
# If needed, also install:
pip install torch transformers soundfile numpy requests
```

### 4. Run the FastAPI server

```bash
uvicorn app.main:app --reload
```

### 5. Access the web interface

Open your browser to:

```
http://localhost:8000/static/test_voice.html
```

---

All agent responses are generated by the LLM and voiced using SpeechT5.

---

## üõ£Ô∏è API Endpoints

### `POST /start-call`

Start a new sales call.

- **Input**: `{ "phone_number": "string", "customer_name": "string" }`
- **Output**: `{ "call_id": "string", "message": "string", "first_message": "string", "audio_base64": "string" }`

### `POST /respond/{call_id}`

Send a customer message and get the agent's reply (text + voice).

- **Input**: `{ "message": "string" }`
- **Output**: `{ "reply": "string", "should_end_call": true/false, "audio_base64": "string" }`

### `GET /conversation/{call_id}`

Get the full conversation transcript.

- **Output**: `{ "call_id": "string", "history": [ ... ] }`

### `POST /voice/transcribe/{call_id}`

Send an audio file (customer voice) and get the transcribed text.

- **Input**: Multipart audio file
- **Output**: `{ "transcription": "string" }`

### `GET /health`

Health check endpoint.

---

## üñ•Ô∏è Web Interface

- Located at `/static/test_voice.html`
- Lets you start a call, chat with the agent, and hear voice responses in real time
- When the call ends, input is disabled and a thank you message is shown

---


